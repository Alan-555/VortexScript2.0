Add option to access variables from higher scopes
add undefined support
Add support to modify vars from other modules